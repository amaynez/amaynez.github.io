{% assign document = post | default: page %}
{% if document.read_time or document.show_date %}
  <span class = "{{ include.type }}">
  {% if include.type == "post-page-meta" %}
    <p class="page_meta">
  {% endif %}
  {% if include.type == "post-card-meta" or include.type == "recent-item-meta" %}
    <span class="meta-pre"></span>
  {% endif %}
  {% if document.show_date and document.date %}
    {% assign date = document.date %}
    <span class="page_meta-date">
      <i class="fa {% if include.type == 'grid' and document.read_time and document.show_date %}grid {% endif %}fa-calendar" aria-hidden="true"></i>
      <time datetime="{{ date | date_to_xmlschema }}">{{ date | date: "%B %-d, %Y" }}</time>
    </span>
  {% endif %}
  {% if document.read_time and document.show_date %}<span class="meta-sep"></span>{% endif %}
  {% if document.read_time %}
    {% assign words_per_minute = document.words_per_minute | default: site.words_per_minute | default: 200 %}
    {% assign words = document.content | strip_html | number_of_words %}
    <span class="page_meta-readtime">
      <i class="fa {% if include.type == 'grid' and document.read_time and document.show_date %}grid {% endif %}fa-clock-o" aria-hidden="true"></i>
      {% if words < words_per_minute %}
        {{ site.data.ui-text[site.locale].less_than | default: 'less than' }} 1 {{ site.data.ui-text[site.locale].minute_read | default: 'minute read' }}
      {% elsif words == words_per_minute %}
        1 {{ site.data.ui-text[site.locale].minute_read | default: 'minute read' }}
      {% else %}
        {{ words | divided_by: words_per_minute }} {{ site.data.ui-text[site.locale].minute_read | default: 'minute read' }}
      {% endif %}
    </span>
  {% endif %}
  {% if include.type == "post-page-meta" %}
    </p>
  {% endif %}
  </span>
{% endif %}