<!-- JS -->
<script src="{{site.baseurl}}/assets/js/jquery-3.2.1.min.js"></script>

<script src="{{site.baseurl}}/assets/js/jekyll-search.js"></script>

<script>
  SimpleJekyllSearch({
    searchInput: document.getElementById('search-input'),
    resultsContainer: document.getElementById('results-container'),
    json: '{{site.baseurl}}/search.json',
    searchResultTemplate: '<li><a href="{url}" title="{description}">{title}</a></li>',
    noResultsText: 'No results found',
    fuzzy: false,
    exclude: ['Welcome']
  });
</script>

<script>
function toggle_show(id_to_show, id_icon, hidden_icon, shown_icon) {
  document.getElementById(id_icon).classList.toggle(hidden_icon);
  document.getElementById(id_icon).classList.toggle(shown_icon);
    if (document.getElementById(id_to_show).classList.contains('show')) {
        document.getElementById(id_to_show).style.opacity = 0;
        document.getElementById(id_to_show).addEventListener('transitionend', function(e) {
            document.getElementById(id_to_show).classList.remove('show');
        }, {capture: false, once: true, passive: false});
    } else {
    document.getElementById(id_to_show).classList.add('show');
    setTimeout(function () {
      document.getElementById(id_to_show).style.opacity = 1;
    }, 10);
  }
}

var coll = document.getElementsByClassName("toc-item");
var i;

for (i = 0; i < coll.length; i++) {
  coll[i].addEventListener("click", function() {
    this.classList.toggle("active");
    var content = this.lastElementChild;
    if (content.style.maxHeight){
      content.style.maxHeight = null;
    } else {
      content.style.maxHeight = content.scrollHeight + "px";
    }
  });
}

function toggle_comments(){
    document.getElementById('comment-curtain').classList.toggle('hide')
    document.getElementById('disqus_thread').classList.toggle('show')
}
$(".share-hover").on("mouseover", function() {
  document.getElementById('sidebar-icons').classList.add('show');
  setTimeout(function () {
      document.getElementById('sidebar-icons').style.opacity = 1;
  }, 10);
}).on("mouseleave", function() {
  document.getElementById('sidebar-icons').style.opacity = 0;
  document.getElementById('sidebar-icons').addEventListener('transitionend', function(e) {
    document.getElementById('sidebar-icons').classList.remove('show');
  }, {capture: false, once: true, passive: false});
  document.getElementById('sidebar-icons').style.opacity = 1;
});
</script>

<script src="{{site.baseurl}}/assets/js/main.js"></script>

{% if page.toc == "sticky" %}
  <script>
      var spy = new Gumshoe("ul#toc__menu.toc__menu a", {
                              navClass:"active",
                              contentClass:"active",
                              nested:0,
                              nestedClass:"active",
                              offset:20,
                              reflow:1,
                              events:1});
  </script>
{% endif %}
